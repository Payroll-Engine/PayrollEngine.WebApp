@using System.Collections.Generic
@using System.Globalization

@foreach (var month in Months)
{
    <MudSelectItem T="Month?" Value="@month.Item1">@month.Item2</MudSelectItem>
}

@code
{
    [Parameter] public string Culture { get; set; }
    private List<Tuple<Month?, string>> Months { get; set; } = new();

    private void SetupMonths()
    {
        // culture: fallback to system culture
        var cultureName = Culture ?? CultureInfo.CurrentCulture.Name;
        var culture = CultureTool.GetCulture(cultureName);

        // months
        var monthNames = culture.DateTimeFormat.MonthNames.
            Where(x => !string.IsNullOrWhiteSpace(x)).ToList();
        var i = 1;
        foreach (var monthName in monthNames)
        {
            Months.Add(new((Month?)i, monthName));
            i++;
        }
    }

    protected override async Task OnInitializedAsync()
    {
        SetupMonths();
        await base.OnInitializedAsync();
    }
}
