@using PayrollEngine.WebApp.Shared

@inject Localizer Localizer;

<MudSelect T="string"
           Label="@Item.GetItemLabel(Field, Localizer)"
           HelperText="@Item.GetItemHelp(Field)"
           MultiSelection="true"
           SelectAll="true"
           SelectAllText="@($"Select all {Item.GetItemLabel(Field, Localizer)}")"
           SelectedValues="SelectedCollectors" SelectedValuesChanged="SelectionChangedAsync"
           Value="@CollectorsAsString"
           Disabled="@(Collectors == null || Collectors.Count < 1)"
           ReadOnly="@Item.IsReadOnlyField(Field)"
           Clearable="@Item.IsClearableField(Field)">
    @if (Collectors != null)
    {
        foreach (var collector in Collectors)
        {
            <MudSelectItem T="string" Value="@collector.Name">@collector.Name</MudSelectItem>
        }
    }
</MudSelect>
