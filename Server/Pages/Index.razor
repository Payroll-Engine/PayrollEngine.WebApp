@page "/"
@using PayrollEngine.WebApp.Server.Shared
@using PayrollEngine.WebApp.Presentation

@code
{
    [Inject]
    protected UserSession Session { get; set; }

    [Inject]
    protected NavigationManager NavigationManager { get; set; }

    protected override void OnAfterRender(bool firstRender)
    {
        base.OnAfterRender(firstRender);

        // login on missing user session
        if (!Session.UserAvailable)
        {
            NavigationManager.NavigateTo(PageUrls.Login);
        }
    }
}